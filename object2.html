<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>object2</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
    />
  </head>
  <body>
    <div>
      <button class="button is primery" onclick="All()">All</button>
      <button class="button is primery" onclick="Adults()">Adults</button>
      <button class="button is primery" onclick="minors()">Minors</button>
      <button class="button is primery" onclick="score()">score</button>
      <button class="button is primery" onclick="search()">search</button>
      <button class="button is primery" onclick="sortAge()">Sort age</button>
    </div>
    <table class="table is-bordered">
      <thead>
        <th>Name</th>
        <th>Surname</th>
        <th>Age</th>
        <th>Email</th>
        <th>Hobbies</th>
        <th>Score</th>
        <th>School</th>
      </thead>
      <tbody id="ners"></tbody>
    </table>

    <script>
      const ners = [
        {
          firstName: "Бат",
          lastName: "Эрдэнэ",
          age: 34,
          email: "bat.erdene@example.mn",
          hobbies: ["бөх", "морь унах"],
          username: "bat.erdene34",
          scores: [85, 92, 78],
          school: "110-р сургууль",
        },
        {
          firstName: "Солонго",
          lastName: "Тунгалаг",
          age: 19,
          email: "solongo.tungalag@example.mn",
          hobbies: ["зураг зурах", "унших"],
          username: "solongo.tungalag19",
          scores: [90, 87, 94],
          school: "1-р сургууль",
        },
        {
          firstName: "Ганбаатар",
          lastName: "Батболд",
          age: 42,
          email: "ganbaatar.batbold@example.mn",
          hobbies: ["загасчлал", "явган аялал"],
          username: "ganbaatar.batbold42",
          scores: [76, 85, 88],
          school: "3-р сургууль",
        },
        {
          firstName: "Анү",
          lastName: "Мөнхзул",
          age: 20,
          email: "anu.munkhzul@example.mn",
          hobbies: ["дуулалт", "дугуй унах"],
          username: "anu.munkhzul20",
          scores: [91, 82, 79],
          school: "5-р сургууль",
        },
        {
          firstName: "Тэмүжин",
          lastName: "Алтансүх",
          age: 37,
          email: "temujin.altansukh@example.mn",
          hobbies: ["нум сум", "унших"],
          username: "temujin.altansukh37",
          scores: [88, 90, 85],
          school: "17-р сургууль",
        },
        {
          firstName: "Номин",
          lastName: "Эрдэнэчимэг",
          age: 30,
          email: "nomin.erdenechimeg@example.mn",
          hobbies: ["бүжиглэх", "гал тогоо"],
          username: "nomin.erdenechimeg30",
          scores: [79, 83, 87],
          school: "17-р сургууль",
        },
        {
          firstName: "Баатар",
          lastName: "Цэрэндорж",
          age: 45,
          email: "baatar.tserendorj@example.mn",
          hobbies: ["футбол", "шатрын тоглоом"],
          username: "baatar.tserendorj45",
          scores: [84, 76, 91],
          school: "17-р сургууль",
        },
        {
          firstName: "Хулан",
          lastName: "Энхмаа",
          age: 18,
          email: "khulan.enkhmaa@example.mn",
          hobbies: ["фотографи", "усанд сэлэх"],
          username: "khulan.enkhmaa18",
          scores: [95, 89, 92],
          school: "17-р сургууль",
        },
        {
          firstName: "Чинбат",
          lastName: "Дорж",
          age: 39,
          email: "chinbat.dorj@example.mn",
          hobbies: ["дугуй унах", "явган аялал"],
          username: "chinbat.dorj39",
          scores: [80, 84, 88],
          school: "1-р сургууль",
        },
        {
          firstName: "Сарангэрэл",
          lastName: "Нарантуяа",
          age: 33,
          email: "sarangerel.narantuya@example.mn",
          hobbies: ["бичих", "зураг зурах"],
          username: "sarangerel.narantuya33",
          scores: [91, 90, 85],
          school: "5-р сургууль",
        },
        {
          firstName: "Эрдэнэбаяр",
          lastName: "Болд",
          age: 21,
          email: "erdenebayar.bold@example.mn",
          hobbies: ["тоглоом", "сагсан бөмбөг"],
          username: "erdenebayar.bold21",
          scores: [88, 92, 84],
          school: "",
        },
        {
          firstName: "Туяа",
          lastName: "Сүхбаатар",
          age: 25,
          email: "tuya.sukhbaatar@example.mn",
          hobbies: ["унших", "гажсан"],
          username: "tuya.sukhbaatar25",
          scores: [90, 85, 87],
          school: "5-р сургууль",
        },
        {
          firstName: "Мөнх",
          lastName: "Баяр",
          age: 16,
          email: "munkh.bayar@example.mn",
          hobbies: ["хөлбөмбөг", "видео тоглоом"],
          username: "munkh.bayar16",
          scores: [92, 95, 89],
          school: "18-р сургууль",
        },
        {
          firstName: "Оюун",
          lastName: "Наранцацралт",
          age: 29,
          email: "oyun.narantsatsralt@example.mn",
          hobbies: ["цэцэрлэгжүүлэлт", "гал тогоо"],
          username: "oyun.narantsatsralt29",
          scores: [84, 80, 86],
          school: "",
        },
        {
          firstName: "Дашдаваа",
          lastName: "Ганболд",
          age: 44,
          email: "dashdavaa.ganbold@example.mn",
          hobbies: ["бөх", "загасчлал"],
          username: "dashdavaa.ganbold44",
          scores: [77, 83, 85],
          school: "5-р сургууль",
        },
        {
          firstName: "Цэцэг",
          lastName: "Баатар",
          age: 17,
          email: "tsetseg.baatar@example.mn",
          hobbies: ["дуулалт", "зураг зурах"],
          username: "tsetseg.baatar17",
          scores: [90, 88, 91],
          school: "5-р сургууль",
        },
        {
          firstName: "Баярмаа",
          lastName: "Жаргалсайхан",
          age: 31,
          email: "bayarmaa.jargalsaikhan@example.mn",
          hobbies: ["фотографи", "унших"],
          username: "bayarmaa.jargalsaikhan31",
          scores: [85, 88, 82],
          school: "",
        },
        {
          firstName: "Гантулга",
          lastName: "Лхагвасүрэн",
          age: 36,
          email: "gantulga.lkhagvasuren@example.mn",
          hobbies: ["дугуй унах", "шатрын тоглоом"],
          username: "gantulga.lkhagvasuren36",
          scores: [89, 84, 90],
          school: "",
        },
        {
          firstName: "Энхжаргал",
          lastName: "Батжаргал",
          age: 20,
          email: "enkhjargal.batjargal@example.mn",
          hobbies: ["сагсан бөмбөг", "гажсан"],
          username: "enkhjargal.batjargal20",
          scores: [91, 87, 88],
          school: "",
        },
        {
          firstName: "Эрхэм",
          lastName: "Цэнд",
          age: 40,
          email: "erkhem.tsend@example.mn",
          hobbies: ["загасчлал", "нум сум"],
          username: "erkhem.tsend40",
          scores: [78, 82, 85],
          school: "",
        },
      ];

      document.getElementById("ners").innerHTML = output;

      function generateTableROw(ner) {
        const result = `
                            <tr>
                    <td>${ner.firstName.toUpperCase()}</td>
                    <td>${ner.lastName}</td>
                    <td>${ner.age}</td>
                    <td>${ner.email}</td>
                    <td>${ner.hobbies.join("  ,  ")}</td>
                    <td>${ner.scores}</td>
                    <td>${
                      ner.school
                        ? ner.school
                        : '<span style="opacity:30%">not available</span>'
                    }</td>
                </tr`;
        return result;
      }
      function All() {
        let output = "";
        for (let i = 0; i < ners.length; i++) {
          if (ners[i].age > 1) {
            output += generateTableROw(ners[i]);
          }
        }
        document.getElementById("ners").innerHTML = output;
      }

      function Adults() {
        let output = "";
        for (let i = 0; i < ners.length; i++) {
          if (ners[i].age >= 21) {
            output += generateTableROw(ners[i]);
          }
        }
        document.getElementById("ners").innerHTML = output;
      }
      function minors() {
        let output = "";
        for (let i = 0; i < ners.length; i++) {
          if (ners[i].age <= 21) {
            output += generateTableROw(ners[i]);
          }
        }
        document.getElementById("ners").innerHTML = output;
      }
      function score() {
        let output = "";
        const avg =
          (ners[i].scores[0] + ners[i].scores[1] + ners[i].scores.length - 1) /
          3;
        for (let i = 0; i < ners.length; i++) {
          output === avg.math.trunc();
        }
        document.getElementById("ners").innerHTML = output;
      }
      function search() {
        const query = prompt("Search query");
        let output = "";
        for (let i = 0; i < ners.length; i++) {
          const lowername = ners[i].firstName.toLowerCase();
          const lowerQuery = query.toLowerCase();
          const lowerEmail = ners[i].email.toLowerCase();
          if (lowername.includes(lowerQuery) || lowerEmail.includes(lowerQuery))
            output += generateTableROw(ners[i]);
        }
        document.getElementById("ners").innerHTML = output;
      }

      const sortAge = ners.sort((a, b) => a.age - b.age);
    </script>
  </body>
</html>
